{% extends "base.html" %}
{% load static %}  

{% block title %}
  Dashboard | STOCKstorm
{% endblock %}

{% block content %}
<div class="app-body-main-content">
  <!-- Service Section -->
  <section class="service-section">
    <h2>Services</h2>
    <div class="tiles">
      <article class="tile">
        <div class="tile-header">
          <i class="ph-lightning-light"></i>
          <h3>
            <span>XTB51015rei</span>
            <span>Trading Bot</span>
          </h3>
        </div>
        <a href="{% url 'bot_list' %}">
          <span>Go to service</span>
          <span class="icon-button">
            <i class="ph-caret-right-bold"></i>
          </span>
        </a>
      </article>
      <article class="tile">
        <div class="tile-header">
          <i class="ph-fire-simple-light"></i>
          <h3>
            <span>Binance51015rei</span>
            <span>Trading bot</span>
          </h3>
        </div>
        <a href="{% url 'bnb_list' %}">
          <span>Go to service</span>
          <span class="icon-button">
            <i class="ph-caret-right-bold"></i>
          </span>
        </a>
      </article>
      <article class="tile">
        <div class="tile-header">
          <i class="ph-fire-simple-light"></i>
          <h3>
            <span>D10 na XTB</span>
            <span>Trading bot</span>
          </h3>
        </div>
        <a href="{% url 'd10_list' %}">
          <span>Go to service</span>
          <span class="icon-button">
            <i class="ph-caret-right-bold"></i>
          </span>
        </a>
      </article>
      <article class="tile">
        <div class="tile-header">
          <i class="ph-chart-line"></i>
          <h3>
            <span>HP Crypto</span>
            <span>Position Tracker</span>
          </h3>
        </div>
        <a href="{% url 'position_list' %}">
          <span>Go to service</span>
          <span class="icon-button">
            <i class="ph-caret-right-bold"></i>
          </span>
        </a>
      </article>
    </div>
    </div>
    <div class="service-section-footer">
      <p>Become a millionaire with us. Stockstorm.</p>
    </div>
  </section>

  <!-- Sekcja z czasem UTC -->
  <div id="utc-time" class="utc-time-container"></div>

  <!-- Sekcja statusu XTB (opcjonalnie) -->
</div>

<!-- NOWY KONTENER Z GIFEM -->
<div class="gif-container">
  <img 
    src="{% static 'images/pudgy.gif' %}" 
    alt="Pudgy GIF" 
    class="centered-gif" 
  />
</div>

<!-- Skrypt do aktualizacji czasu UTC -->
<script>
  function updateUTCTime() {
    const utcTimeElement = document.getElementById('utc-time');
    const now = new Date();

    // Ręczne formatowanie daty i godziny w UTC
    const hours = String(now.getUTCHours()).padStart(2, '0');
    const minutes = String(now.getUTCMinutes()).padStart(2, '0');
    const seconds = String(now.getUTCSeconds()).padStart(2, '0');

    // Format wyjściowy
    const formattedTime = `UTC: ${hours}:${minutes}:${seconds}`;

    // Aktualizuj tekst tylko, jeśli się zmienił
    if (utcTimeElement.textContent !== formattedTime) {
      utcTimeElement.textContent = formattedTime;
    }
  }

  // Aktualizuj czas co sekundę
  setInterval(updateUTCTime, 1000);
  updateUTCTime();
</script>
{% endblock %}
